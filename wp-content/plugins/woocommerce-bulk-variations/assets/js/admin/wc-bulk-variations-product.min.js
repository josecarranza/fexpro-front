/*!
 * WooCommerce Bulk Variations 1.1.9
 * Copyright 2020 Barn2 Plugins
 */
(function(t){"use strict";function a(a,t){var o=!1,e=0;return"variable"==jQuery("#product-type").val()&&(jQuery(".woocommerce_attribute_data .enable_variation input").each(function(t){jQuery(this).is(":checked")&&e++}),jQuery("#variable_product_options .woocommerce_variations .woocommerce_variation").length&&(a=0,jQuery("#variable_product_options .woocommerce_variations .woocommerce_variation").each(function(t){a++})),"removed"==t?a--:"added"==t&&a++,(1==e||2==e)&&0<a&&(o=!0)),o?jQuery(".show_if_bulk_variations").show():jQuery(".show_if_bulk_variations").hide(),a}var o=wcbvp_data.is_bulk_variation,r=wcbvp_data.variations_count;jQuery("#variable_product_options").on("woocommerce_variations_added",function(){r=a(r,"added")}),jQuery("#woocommerce-product-data").on("woocommerce_variations_removed",function(){r=a(r,"removed")}),jQuery("#product-type").change(function(){r=a(r)}),jQuery("#variable_product_options").on("reload",function(){r=a(r);var e={},i=0;jQuery("#product_attributes .woocommerce_attribute").each(function(t){var a=jQuery(this).data("taxonomy"),o=jQuery(this).find("strong.attribute_name").text();""==a&&(a=o),jQuery(this).find(".enable_variation input").is(":checked")&&(e[a]=o,i++)}),jQuery("#wcbvp_variations_structure_rows").find("option").remove().end().append("<option>Select attribute</option>"),jQuery("#wcbvp_variations_structure_columns").find("option").remove().end().append("<option>Select attribute</option>"),jQuery.each(e,function(t,a){jQuery("#wcbvp_variations_structure_columns").append(jQuery("<option>",{value:t}).text(a))}),jQuery.each(e,function(t,a){jQuery("#wcbvp_variations_structure_rows").append(jQuery("<option>",{value:t}).text(a))}),1==i&&("vert"==wcbvp_data.settings.variation_attribute?jQuery("#wcbvp_variations_structure_rows").val(jQuery("#wcbvp_variations_structure_rows option:last").val()):jQuery("#wcbvp_variations_structure_columns").val(jQuery("#wcbvp_variations_structure_columns option:last").val()))}),jQuery("#variable_product_options").on("woocommerce_variations_save_variations_button",function(){r=a(r)}),o?jQuery(".show_if_bulk_variations").show():jQuery(".show_if_bulk_variations").hide(),jQuery('input[type=checkbox][name="'+wcbvp_data.option_variation_data+'_override"]').is(":checked")?jQuery("#"+wcbvp_data.option_variation_data+"_hide_add_to_cart_div").hide():jQuery("#"+wcbvp_data.option_variation_data+"_hide_add_to_cart_div").show(),jQuery('input[type=checkbox][name="'+wcbvp_data.option_variation_data+'_override"]').change(function(){this.checked?jQuery("#"+wcbvp_data.option_variation_data+"_hide_add_to_cart_div").hide():jQuery("#"+wcbvp_data.option_variation_data+"_hide_add_to_cart_div").show()}),t('input[name="wcbvp_variations_data[disable_purchasing]"]').on("change",function(t){var a=jQuery('input[name="wcbvp_variations_data[show_stock]"]');t.currentTarget.checked?a.closest("p").hide():a.closest("p").show()}),t('input[name="wcbvp_variations_data[variation_images]"]').on("change",function(t){var a=jQuery('input[name="wcbvp_variations_data[use_lightbox]"]');t.currentTarget.checked?a.closest("p").show():a.closest("p").hide()}).change()})(jQuery,window,document);